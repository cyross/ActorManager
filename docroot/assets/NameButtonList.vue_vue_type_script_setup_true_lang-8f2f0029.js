import{b as Y,r as v,e as d,d as p,c as l,t as f,o as r,f as o,u as $,a as N,F as D,h as w,E as Z}from"./index-77a4c3a5.js";import{a as tt}from"./AlertsComponent.vue_vue_type_script_setup_true_lang-f741b20d.js";const I=a=>{const e={};return Object.keys(a).forEach(s=>e[s]=a[s]),e},et=(a,e)=>{if(e.toString().length===0||!(e in a))return a;const s={};return Object.keys(a).forEach(t=>{t!==e&&(s[t]=a[t])}),s},st=()=>({Enable:!1,Id:-1,Name:"",RealName:"",Separator:"",Encoding:"",ExtData:{}}),nt=()=>({Id:-1,Name:"",RealName:"",Separator:"",Encoding:"",ExtData:{}}),R=()=>({Index:-1,Body:nt()}),ot=()=>[",","＞"],at=()=>["utf-8","shift_jis"],Wt=Y("ve",()=>{const a=v([]),e=v([]),s=v(R()),t=v(st()),c=v([]),m=v(at()),y=v(ot()),E=n=>{a.value=n,F()},g=n=>{e.value=n},x=n=>e.value.findIndex(u=>u.Id===n),i=n=>{e.value.push(n)},_=(n,u)=>{e.value[n].Id=u.Id,e.value[n].Name=u.Name},h=(n,u)=>{_(x(n),u)},b=n=>{e.value.splice(n,1)},B=n=>{b(x(n))},j=(n,u)=>{s.value={Index:n,Body:u}},O=()=>{s.value=R()},q=n=>{s.value.Body=n},k=n=>{s.value.Body.Id=n.Id,s.value.Body.Name=n.Name,s.value.Body.RealName=n.RealName,s.value.Body.Encoding=n.Encoding,s.value.Body.Separator=n.Separator,s.value.Body.ExtData=I(n.ExtData)},V=d(()=>s.value.Index!==-1),A=d(()=>s.value.Body.RealName+"("+s.value.Body.Name+")"),L=n=>{t.value=n},M=()=>{t.value.Id=-1,t.value.Name="",t.value.RealName="",t.value.Encoding=m.value[0],t.value.Separator=y.value[0],t.value.ExtData={},t.value.Enable=!0},T=()=>{t.value.Id=s.value.Body.Id,t.value.Name=s.value.Body.Name,t.value.RealName=s.value.Body.RealName,t.value.Encoding=s.value.Body.Encoding,t.value.Separator=s.value.Body.Separator,t.value.ExtData=I(s.value.Body.ExtData)},H=(n,u)=>{const S=I(t.value.ExtData);S[n]=u,t.value.ExtData=S},K=n=>{const u=t.value;u.ExtData=et(u.ExtData,n),t.value=u},U=()=>{t.value.Enable=!0},z=()=>{t.value.Enable=!1},G=d(()=>t.value.Enable),J=d(()=>t.value.Id===-1),P=d(()=>t.value.Id!==-1),Q=d(()=>t.value.RealName+"("+t.value.Name+")"),W=d(()=>`「${t.value.Name}」`),X=d(()=>s.value.Body.RealName+"("+t.value.Name+")"),F=()=>{c.value=[],a.value.forEach(n=>{c.value.push(n.Name)})};return{specs:a,names:e,detail:s,edit:t,options:c,encodes:m,separators:y,setSpecs:E,setNames:g,getNamesIndex:x,appendName:i,updateName:_,updateNameById:h,deleteName:b,deleteNameById:B,setDetail:j,resetDetail:O,applyDetailBody:q,applyDetailFromEdit:k,visibleDetail:V,titleByDetail:A,setEdit:L,newEdit:M,applyEditFromDetail:T,addExtData:H,removeExtData:K,editEnable:U,editDisable:z,visibleEdit:G,isAdd:J,isUpdate:P,modalInfoByEdit:Q,titleByEdit:W,titleByDetailAndEdit:X,createOptions:F}}),ct={class:"col-4"},lt=p({__name:"Col4TitleCol",props:{title:String},setup(a){const e=a;return(s,t)=>(r(),l("div",ct,f(e.title),1))}}),rt={class:"row"},it={class:"col"},ut={class:"col"},dt=["data-bs-target"],Xt=p({__name:"EditAndDeleteRow",props:{editFunc:{type:Function,required:!0},deleteModalId:{type:String,required:!0}},setup(a){const e=a,s=d(()=>"#"+e.deleteModalId);return(t,c)=>(r(),l("div",rt,[o("div",it,[o("button",{onClick:c[0]||(c[0]=m=>e.editFunc()),type:"button",class:"btn btn-primary full_fit"}," 編集 ")]),o("div",ut,[o("button",{type:"button","data-bs-toggle":"modal","data-bs-target":$(s),class:"btn btn-danger full_fit"}," 削除 ",8,dt)])]))}}),_t={class:"col-6"},C=p({__name:"Col6TitleCol",props:{title:String},setup(a){const e=a;return(s,t)=>(r(),l("div",_t,f(e.title),1))}}),vt={class:"row"},pt={class:"col"},Yt=p({__name:"DetailRow",props:{title:String,value:String},setup(a){const e=a;return(s,t)=>(r(),l("div",vt,[N(C,{title:e.title},null,8,["title"]),o("div",pt,f(e.value),1)]))}}),mt={class:"col"},Zt=p({__name:"CancelButtonCol",props:{cancelFunc:{type:Function,required:!0}},setup(a){const e=a;return(s,t)=>(r(),l("div",mt,[o("button",{onClick:t[0]||(t[0]=c=>e.cancelFunc()),class:"btn btn-secondary full_fit"},"キャンセル")]))}}),ht={class:"row"},ft={class:"col"},te=p({__name:"NewButtonRow",props:{showFunc:{type:Function,required:!0}},setup(a){const e=a;return(s,t)=>(r(),l("div",ht,[o("div",ft,[o("button",{onClick:t[0]||(t[0]=c=>e.showFunc()),type:"button",class:"btn btn-primary full_fit"}," 新規作成 ")])]))}}),yt={class:"row"},Et={class:"col"},bt={key:0,class:"container"},xt=o("div",{class:"row"},[o("div",{class:"col"},"なし")],-1),$t=[xt],Nt={class:"row"},gt={class:"col"},It={class:"col"},Dt={class:"col"},wt=["onClick"],Bt={class:"container"},Ft={class:"row"},St={class:"col"},Rt=["value"],Ct={class:"col"},jt=["value"],Ot={class:"col"},ee=p({__name:"EditExtDataRow",props:{ext:{type:Object,required:!0},addFunc:{type:Function,required:!0},removeFunc:{type:Function,required:!0}},setup(a){const e=a,s=tt(),t=v(""),c=v(""),m=i=>i.target instanceof HTMLInputElement?i.target.value:"",y=d(()=>e.ext),E=d(()=>Object.keys(e.ext).length===0),g=(i,_)=>{if(i=i.trim(),i===""){s.show("キーが空白です");return}if(Object.keys(e.ext).indexOf(i)>=0){s.show("キーが既に存在しています");return}e.addFunc(i,_),t.value="",c.value=""},x=i=>{if(Object.keys(e.ext).indexOf(i)<0){s.show("存在していないキーです");return}e.removeFunc(i)};return(i,_)=>(r(),l("div",yt,[N(lt,{title:"拡張情報"}),o("div",Et,[$(E)?(r(),l("div",bt,$t)):(r(!0),l(D,{key:1},w($(y),(h,b)=>(r(),l("div",{key:b,class:"container"},[o("div",Nt,[o("div",gt,f(b),1),o("div",It,f(h),1),o("div",Dt,[o("button",{onClick:B=>x(b.toString()),type:"button",class:"btn btn-warning full_fit"}," 削除 ",8,wt)])])]))),128)),N(Z),o("div",Bt,[o("div",Ft,[o("div",St,[o("input",{type:"text",value:t.value,onInput:_[0]||(_[0]=h=>t.value=m(h)),class:"form-control",placeholder:"キー"},null,40,Rt)]),o("div",Ct,[o("input",{type:"text",value:c.value,onInput:_[1]||(_[1]=h=>c.value=m(h)),class:"form-control",placeholder:"値"},null,40,jt)]),o("div",Ot,[o("button",{onClick:_[2]||(_[2]=h=>g(t.value,c.value)),type:"button",class:"btn btn-primary full_fit"}," 追加 ")])])])])]))}}),qt={class:"row"},kt={class:"col"},Vt={key:0,class:"container"},At=o("div",{class:"row"},[o("div",{class:"col"},"なし")],-1),Lt=[At],Mt={class:"row"},Tt={class:"col"},Ht={class:"col"},se=p({__name:"ExtDataRow",props:{ext:{type:Object,required:!0}},setup(a){const e=a,s=d(()=>e.ext),t=d(()=>Object.keys(e.ext).length===0);return(c,m)=>(r(),l("div",qt,[N(C,{title:"拡張情報"}),o("div",kt,[$(t)?(r(),l("div",Vt,Lt)):(r(!0),l(D,{key:1},w($(s),(y,E)=>(r(),l("div",{key:E,class:"container"},[o("div",Mt,[o("div",Tt,f(E),1),o("div",Ht,f(y),1)])]))),128))])]))}}),Kt={class:"container"},Ut={class:"row overflow-auto full_height"},zt={class:"col"},Gt={class:"list-group"},Jt=["onClick"],ne=p({__name:"NameButtonList",props:{names:{type:Array,required:!0},showFunc:{type:Function,required:!0}},setup(a){const e=a;return(s,t)=>(r(),l("div",Kt,[o("div",Ut,[o("div",zt,[o("ul",Gt,[(r(!0),l(D,null,w(e.names,c=>(r(),l("li",{key:c.Id,class:"list-group-item"},[o("button",{onClick:m=>a.showFunc(c.Id),type:"button",class:"btn btn-outline-primary full_fit"},f(c.Name),9,Jt)]))),128))])])])]))}});export{C as _,lt as a,ee as b,I as c,ne as d,Yt as e,et as f,se as g,Zt as h,Xt as i,te as j,Wt as u};
