import{e as Y,r as _,f as d,d as v,c as l,t as h,o as r,b as a,u as $,a as I,F as D,h as w}from"./index-8cce3018.js";import{a as Z}from"./AlertsComponent.vue_vue_type_script_setup_true_lang-6deb986c.js";const g=o=>{const e={};return Object.keys(o).forEach(s=>e[s]=o[s]),e},tt=(o,e)=>{if(e.toString().length===0||!(e in o))return o;const s={};return Object.keys(o).forEach(t=>{t!==e&&(s[t]=o[t])}),s},et=()=>({Enable:!1,Id:-1,Name:"",RealName:"",Separator:"",Encoding:"",ExtData:{}}),st=()=>({Id:-1,Name:"",RealName:"",Separator:"",Encoding:"",ExtData:{}}),C=()=>({Index:-1,Body:st()}),nt=()=>[",","＞"],ot=()=>["utf-8","shift_jis"],Jt=Y("ve",()=>{const o=_([]),e=_([]),s=_(C()),t=_(et()),c=_([]),m=_(ot()),E=_(nt()),f=n=>{o.value=n,F()},N=n=>{e.value=n},x=n=>e.value.findIndex(i=>i.Id===n),u=n=>{e.value.push(n)},p=(n,i)=>{e.value[n].Id=i.Id,e.value[n].Name=i.Name},y=(n,i)=>{p(x(n),i)},b=n=>{e.value.splice(n,1)},B=n=>{b(x(n))},j=(n,i)=>{s.value={Index:n,Body:i}},O=()=>{s.value=C()},q=n=>{s.value.Body=n},k=n=>{s.value.Body.Id=n.Id,s.value.Body.Name=n.Name,s.value.Body.RealName=n.RealName,s.value.Body.Encoding=n.Encoding,s.value.Body.Separator=n.Separator,s.value.Body.ExtData=g(n.ExtData)},V=d(()=>s.value.Index!==-1),A=d(()=>s.value.Body.RealName+"("+s.value.Body.Name+")"),L=n=>{t.value=n},M=()=>{t.value.Id=-1,t.value.Name="",t.value.RealName="",t.value.Encoding=m.value[0],t.value.Separator=E.value[0],t.value.ExtData={},t.value.Enable=!0},T=()=>{t.value.Id=s.value.Body.Id,t.value.Name=s.value.Body.Name,t.value.RealName=s.value.Body.RealName,t.value.Encoding=s.value.Body.Encoding,t.value.Separator=s.value.Body.Separator,t.value.ExtData=g(s.value.Body.ExtData)},H=(n,i)=>{const S=g(t.value.ExtData);S[n]=i,t.value.ExtData=S},K=n=>{const i=t.value;i.ExtData=tt(i.ExtData,n),t.value=i},U=()=>{t.value.Enable=!0},z=()=>{t.value.Enable=!1},G=d(()=>t.value.Enable),J=d(()=>t.value.Id===-1),P=d(()=>t.value.Id!==-1),Q=d(()=>t.value.RealName+"("+t.value.Name+")"),W=d(()=>`「${t.value.Name}」`),X=d(()=>s.value.Body.RealName+"("+t.value.Name+")"),F=()=>{c.value=[],o.value.forEach(n=>{c.value.push(n.Name)})};return{specs:o,names:e,detail:s,edit:t,options:c,encodes:m,separators:E,setSpecs:f,setNames:N,getNamesIndex:x,appendName:u,updateName:p,updateNameById:y,deleteName:b,deleteNameById:B,setDetail:j,resetDetail:O,applyDetailBody:q,applyDetailFromEdit:k,visibleDetail:V,titleByDetail:A,setEdit:L,newEdit:M,applyEditFromDetail:T,addExtData:H,removeExtData:K,editEnable:U,editDisable:z,visibleEdit:G,isAdd:J,isUpdate:P,modalInfoByEdit:Q,titleByEdit:W,titleByDetailAndEdit:X,createOptions:F}}),at={class:"col-2"},ct=v({__name:"Col2TitleCol",props:{title:String},setup(o){const e=o;return(s,t)=>(r(),l("div",at,h(e.title),1))}}),lt={class:"row py-1"},rt={class:"col-auto"},ut={class:"col-auto"},it=["data-bs-target"],Pt=v({__name:"EditAndDeleteRow",props:{editFunc:{type:Function,required:!0},deleteModalId:{type:String,required:!0}},setup(o){const e=o,s=d(()=>"#"+e.deleteModalId);return(t,c)=>(r(),l("div",lt,[a("div",rt,[a("button",{onClick:c[0]||(c[0]=m=>e.editFunc()),type:"button",class:"btn btn-primary full_fit"}," 編集 ")]),a("div",ut,[a("button",{type:"button","data-bs-toggle":"modal","data-bs-target":$(s),class:"btn btn-danger full_fit"}," 削除 ",8,it)])]))}}),dt={class:"col-3"},R=v({__name:"Col3TitleCol",props:{title:String},setup(o){const e=o;return(s,t)=>(r(),l("div",dt,h(e.title),1))}}),pt={class:"row py-1"},_t={class:"col"},Qt=v({__name:"DetailRow",props:{title:String,value:String},setup(o){const e=o;return(s,t)=>(r(),l("div",pt,[I(R,{title:e.title},null,8,["title"]),a("div",_t,h(e.value),1)]))}}),vt={class:"col-auto"},Wt=v({__name:"CancelButtonCol",props:{cancelFunc:{type:Function,required:!0}},setup(o){const e=o;return(s,t)=>(r(),l("div",vt,[a("button",{onClick:t[0]||(t[0]=c=>e.cancelFunc()),class:"btn btn-secondary full_fit"},"キャンセル")]))}}),mt={class:"row py-1"},yt={class:"col"},Xt=v({__name:"NewButtonRow",props:{showFunc:{type:Function,required:!0}},setup(o){const e=o;return(s,t)=>(r(),l("div",mt,[a("div",yt,[a("button",{onClick:t[0]||(t[0]=c=>e.showFunc()),type:"button",class:"btn btn-primary full_fit"}," 新規作成 ")])]))}}),ht={class:"row py-1"},Et={class:"col"},ft={key:0,class:"row"},bt=a("div",{class:"col"},"なし",-1),xt=[bt],$t={class:"col"},Nt={class:"col"},gt={class:"col"},It=["onClick"],Dt={class:"row py-1"},wt={class:"col"},Bt=["value"],Ft={class:"col"},St=["value"],Ct={class:"col"},Yt=v({__name:"EditExtDataRow",props:{ext:{type:Object,required:!0},addFunc:{type:Function,required:!0},removeFunc:{type:Function,required:!0}},setup(o){const e=o,s=Z(),t=_(""),c=_(""),m=u=>u.target instanceof HTMLInputElement?u.target.value:"",E=d(()=>e.ext),f=d(()=>Object.keys(e.ext).length===0),N=(u,p)=>{if(u=u.trim(),u===""){s.show("キーが空白です");return}if(Object.keys(e.ext).indexOf(u)>=0){s.show("キーが既に存在しています");return}e.addFunc(u,p),t.value="",c.value=""},x=u=>{if(Object.keys(e.ext).indexOf(u)<0){s.show("存在していないキーです");return}e.removeFunc(u)};return(u,p)=>(r(),l("div",ht,[I(ct,{title:"拡張情報"}),a("div",Et,[$(f)?(r(),l("div",ft,xt)):(r(!0),l(D,{key:1},w($(E),(y,b)=>(r(),l("div",{key:b,class:"row"},[a("div",$t,h(b),1),a("div",Nt,h(y),1),a("div",gt,[a("button",{onClick:B=>x(b.toString()),type:"button",class:"btn-sm btn-warning full_fit"}," 削除 ",8,It)])]))),128)),a("div",Dt,[a("div",wt,[a("input",{type:"text",value:t.value,onInput:p[0]||(p[0]=y=>t.value=m(y)),class:"form-control-sm",placeholder:"キー"},null,40,Bt)]),a("div",Ft,[a("input",{type:"text",value:c.value,onInput:p[1]||(p[1]=y=>c.value=m(y)),class:"form-control-sm",placeholder:"値"},null,40,St)]),a("div",Ct,[a("button",{onClick:p[2]||(p[2]=y=>N(t.value,c.value)),type:"button",class:"btn-sm btn-primary"}," 追加 ")])])])]))}}),Rt={class:"row py-1"},jt={class:"col"},Ot={key:0,class:"container"},qt=a("div",{class:"row"},[a("div",{class:"col"},"なし")],-1),kt=[qt],Vt={class:"row"},At={class:"col"},Lt={class:"col"},Zt=v({__name:"ExtDataRow",props:{ext:{type:Object,required:!0}},setup(o){const e=o,s=d(()=>e.ext),t=d(()=>Object.keys(e.ext).length===0);return(c,m)=>(r(),l("div",Rt,[I(R,{title:"拡張情報"}),a("div",jt,[$(t)?(r(),l("div",Ot,kt)):(r(!0),l(D,{key:1},w($(s),(E,f)=>(r(),l("div",{key:f,class:"container"},[a("div",Vt,[a("div",At,h(f),1),a("div",Lt,h(E),1)])]))),128))])]))}}),Mt={class:"container"},Tt={class:"row overflow-auto name-list"},Ht={class:"col"},Kt={class:"list-group"},Ut=["onClick"],te=v({__name:"NameButtonList",props:{names:{type:Array,required:!0},showFunc:{type:Function,required:!0}},setup(o){const e=o;return(s,t)=>(r(),l("div",Mt,[a("div",Tt,[a("div",Ht,[a("ul",Kt,[(r(!0),l(D,null,w(e.names,c=>(r(),l("li",{key:c.Id,class:"list-group-item"},[a("button",{onClick:m=>o.showFunc(c.Id),type:"button",class:"btn btn-outline-primary btn-sm full_fit"},h(c.Name),9,Ut)]))),128))])])])]))}});export{R as _,ct as a,Yt as b,g as c,te as d,Qt as e,tt as f,Zt as g,Wt as h,Pt as i,Xt as j,Jt as u};
